const n={},s=require("katex").renderToString;n.katex={func:(n,t,e=null)=>s(t,JSON.parse(n.join(","))),escape:!0,noargs:!1};class t{constructor(){this.functions={},this.functions.usepackage={func:(s,t,e=null)=>{for(let t of s)n.hasOwnProperty(t)&&this.registerFunction(t,n[t].func,n[t].escape,n[t].noargs,!0)},escape:!1,const:!0,noargs:!1};for(let n of["{","}","[","]","\\",","," "])this.functions[n]={func:(s,t,e=null)=>n,escape:!1,const:!0,noargs:!0};this.functions.newline={func:(n,s,t=null)=>"<br>",escape:!1,const:!0,noargs:!0},this.functions.hspace={func:(n,s,t=null)=>`<span style='with:${s} !important'></span>`,escape:!1,const:!0,noargs:!1},this.functions.textbf={func:(n,s,t=null)=>`<strong>${this.parse(s,t)}</strong>`,escape:!0,const:!0,noargs:!1},this.functions.textit={func:(n,s,t=null)=>`<em>${this.parse(s,t)}</em>`,escape:!0,const:!0,noargs:!1},this.functions.underline={func:(n,s,t=null)=>`<u>${this.parse(s,t)}</u>`,escape:!0,const:!0,noargs:!1},this.functions.sout={func:(n,s,t=null)=>`<s>${this.parse(s,t)}</s>`,escape:!0,const:!0,noargs:!1},this.functions.texttt={func:(n,s,t=null)=>`<code>${this.parse(s,t)}</code>`,escape:!0,const:!0,noargs:!1},this.functions.itemize={func:(n,s,t=null)=>`<ul>${this.parse(s,t)}</ul>`,escape:!0,const:!0,noargs:!1},this.functions.enumerate={func:(n,s,t=null)=>`<ol>${this.parse(s,t)}</ol>`,escape:!0,const:!0,noargs:!1},this.functions.item={func:(n,s,t=null)=>`<li>${this.parse(s,t)}</li>`,escape:!0,const:!0,noargs:!1}}registerFunction(n,s,t=!1,e=!1,i=!1){if(!i&&this.functions[n]||"function"!=typeof s||this.functions[n]&&this.functions[n].const)throw new Error(`Function ${n} is already registered or is not a function.`);this.functions[n]={func:s,escape:t,noargs:e}}escapeHTML(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}escapeString(n){return n.replace(/\\\\/g,"\\")}parseFunction(n,s,t,e=this.functions){if(!this.functions[n])throw new Error(`Function ${n} is not registered.`);return this.functions[n].func(s,this.functions[n].escape?this.escapeString(t):t,e)}parse(n,s=this.functions){let t="",e=0;const i=n.length;for(;e<i;)if("\\"===n[e]){let o="";e++;let c=!0;for(;e<i&&(/[a-zA-Z]/.test(n[e])||c);){if(o+=n[e],!/[a-zA-Z]/.test(n[e])){e++;break}e++,c=!1}let r=[],u="";if(!s[o])throw new Error(`Function ${o} is not registered.`);if(!s[o].noargs){for(;e<i&&" "===n[e];)e++;if(e<i&&"["===n[e]){e++;let s=!1,t="";for(;e<i&&("]"!==n[e]||s);)"\\"!==n[e]||s?","!==n[e]||s?(t+=n[e],s=!1):(r.push(t.trim()),t=""):s=!0,e++;t.length>0&&r.push(t.trim()),e++}if(e<i&&"{"===n[e]){e++;let t=!1,c=s[o].escape,r=1;for(;e<i&&r>0;)"\\"!==n[e]||t?("{"!==n[e]||t?"}"!==n[e]||t||r--:r++,r>0&&(!c&&t&&(u+="\\"),u+=n[e]),t=!1):t=!0,e++;if(0!==r)throw new Error(`Mismatched braces in function ${o}.`);t&&!c&&(u+="\\")}}t+=this.parseFunction(o,r,u,s)}else t+=this.escapeHTML(n[e]),e++;return t}}export{t as wbwTexit};
